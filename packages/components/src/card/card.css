.doxy-card {
    /* height: 310px; */
    width: 100%;
    max-height: 90vh;;
    aspect-ratio: 16/9;
    position: relative;
    color: var(--doxy-colors-white);
    font-family: var(--doxy-font);
    container-type: inline-size;
    transition: 100ms scale ease-in-out;
}

.doxy-card.portrait {
    aspect-ratio: 4/5;
}

.doxy-card:hover {
    scale: 1.005;
}

.doxy-card:active {
    scale: 1.01;
}

.doxy-card .container {
    position: absolute;
    inset: 0;
    background-color: var(--doxy-colors-darkgrey);
    border-radius: var(--doxy-radius-md);
    overflow: hidden;
    box-shadow: 0px 6px 0px 0px #FFF;
}

.doxy-card .container:after {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(44, 41, 38, 0.00) 0%, rgba(44, 41, 38, 0.50) 100%);
    content: '';
    z-index: 1;
}

.doxy-card .container .text-container {
    display: flex;
    flex-direction: column;
    position: absolute;
    inset: 0;
    justify-content: flex-end;
    gap: var(--doxy-padding-lg);
    padding: var(--__card-padding, var(--doxy-padding-xl));
    width: 100%;
    margin: auto;
    max-width: 1344px;
}

@container (max-width: 200px) {
    .doxy-card .container {
        --__card-tags-display: none;
    }

}

@container (max-width: 460px) {
    .doxy-card:not(.portrait) .container {
        --__card-subtitle-display: none;
    }
}

@container (min-width: 460px) {
    .container {
        --__card-padding: var(--doxy-padding-xl);
    }
}

@container (min-width: 680px) {
    .container {
        --__card-padding: var(--doxy-padding-xxl);
        --__card-title-font: var(--doxy-text-h3);
    }
}

@container (min-width: 945px) {
    .container {
        max-height: 90vh;

        --__card-padding: var(--doxy-padding-xxl);
        --__card-content-maxwidth: 50%;
        --__card-padding: var(--doxy-padding-outer);

        --__card-title-font: var(--doxy-text-h2);
        --__card-subtitle-font: var(--doxy-text-h4-serif);
    }
    .doxy-card.portrait {
        --__card-padding: var(--doxy-padding-xl);
        --__card-subtitle-display: block;
    }    
}

.doxy-card.hero {
    animation-timeline: scroll();
    animation-name: appear;
    z-index: 2;
  }

@keyframes appear {
    0% {
        translate: 0 0;
    }
    50% {
        translate: 0 -66vmin;
    }
}

.doxy-card.hero:first-of-type {
    height: 80vh;
    margin-top: calc(-20vh - 8px);
}

.doxy-card.hero .container {
    margin: 0 var(--doxy-padding-lg);
}

.doxy-card img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 0;
}

.doxy-card h3,
.doxy-card h4 {
    margin: 0;
}

.doxy-card h3 {
    display: var(--__card-title-display);
    font: var(--__card-title-font, var(--doxy-text-h4));
    max-width: var(--__card-content-maxwidth);
    z-index: 2;
}

.doxy-card.portrait h3 {
    --__card-title-font: var(--doxy-text-h3-serif);
}

.doxy-card.fixy {
    --__card-accent-color: var(--doxy-colors-pink);
}

.doxy-card .container h4 {
    display: var(--__card-subtitle-display);
    font: var(--__card-subtitle-font, var(--doxy-text-body-serif));
    max-width: 50%;
    z-index: 2;
}

.doxy-card .container div {
    display: var(--__card-tags-display, flex);
    gap: var(--doxy-padding-sm);
    max-width: var(--__card-content-maxwidth);
    z-index: 2;
}

.doxy-card .container p {
    font: var(--doxy-text-article);
    margin: var(--doxy-padding-sm) 0;
    display: var(--__card-p-display, none);
}

.doxy-card .container p a {
    display: block;
    margin-top: var(--doxy-padding-md);
}

.doxy-card.portrait:hover {
    --__card-p-display: block;
    --__card-tags-display: none;
}

.doxy-card.portrait:hover .container {
    background-color: var(--__card-accent-color, var(--doxy-colors-green));
}

.doxy-card.portrait:hover .container:after {
    display: none;
}

.doxy-card.portrait:hover img {
    display: none;    
}

.doxy-card.portrait:hover .container .text-container {
    justify-content: flex-start;
}